mode: ContinuousDeployment
branches:
  master:
    tag: ''
    increment: Patch
    prevent-increment-of-merged-branch-version: true
    track-merge-target: false
    regex: ^master$
    source-branches: [ develop, release, hotfix ]
    is-mainline: true
    tracks-release-branches: false
  develop:
    tag: 'alpha'
    increment: Minor
    prevent-increment-of-merged-branch-version: false
    track-merge-target: false
    regex: ^develop$
    source-branches: [ feature, hotfix ]
    tracks-release-branches: false
  release:
    tag: 'beta'
    increment: None
    prevent-increment-of-merged-branch-version: true
    track-merge-target: true
    regex: ^release[/-]
    source-branches: [ develop ]
    tracks-release-branches: true
  hotfix:
    tag: 'hotfix'
    increment: Patch
    regex: ^hotfix[/-]
    source-branches: [ master, develop ]
    tracks-release-branches: false
  feature:
    tag: 'feature'
    increment: Minor
    regex: ^feature[/-]
    source-branches: [ develop ]
    tracks-release-branches: false
  bugfix:
    tag: 'bugfix'
    increment: Patch
    regex: ^bugfix[/-]
    source-branches: [ develop, master ]
    tracks-release-branches: false

  # New Pull Request Branch Configuration
  pull-request:
    tag: 'PR'
    increment: Inherit  # Pull requests will inherit the versioning scheme from their source branch
    regex: ^pull/(.*)/merge$
    source-branches: [ develop, feature, hotfix, release ]
    tracks-release-branches: false
    is-release-branch: false
    track-merge-target: false

ignore:
  sha: []

merge-message-formats:
  major: "Merge branch 'major'"
  minor: "Merge branch 'minor'"
  patch: "Merge branch 'patch'"

commit-message-incrementing: Enabled
commit-message-regex: "(\\+semver:(?<increment>breaking|feature|fix))"
assembly-versioning-scheme: MajorMinorPatch
assembly-file-versioning-format: '{MajorMinorPatch}.{CommitsSinceVersionSource}'
assembly-informational-format: '{FullSemVer}'
