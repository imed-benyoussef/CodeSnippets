<div class="mb-3 pb-3 text-center">
    <h4 class="fw-normal">
        {{ 'features.auth.components.signin.WELCOME_TO' | translate }}
        <span class="fw-bold">{{ 'features.auth.components.signin.APPNAME' | translate }}</span>
    </h4>
    <p class="text-muted mb-0">
        {{ 'features.auth.components.signin.SIGN_IN_TO_CONTINUE' | translate }}
    </p>
</div>
<form class="form-custom mt-3" [formGroup]="signinForm" (ngSubmit)="onSignin()" novalidate>
    <div *ngIf="errorMessage" class="alert alert-danger mt-3">{{ errorMessage }}</div>
    <!-- Ajouter l'affichage du message d'erreur -->
    <div class="mb-3">
        <label class="form-label" for="username">{{ 'features.auth.components.signin.USERNAME' | translate }}</label>
        <input type="text" class="form-control" id="username" formControlName="username" placeholder="{{ 'features.auth.components.signin.ENTER_USERNAME' | translate }}" [ngClass]="{'is-invalid': signinForm.controls['username'].invalid && (signinForm.controls['username'].dirty || signinForm.controls['username'].touched)}">
        <div *ngIf="signinForm.controls['username'].invalid && (signinForm.controls['username'].dirty || signinForm.controls['username'].touched)" class="invalid-feedback">
            <div *ngIf="signinForm.controls['username'].errors?.['required']">
                {{ 'features.auth.components.signin.ERRORS.USERNAME_REQUIRED' | translate }}
            </div>
        </div>
    </div>
    <div class="form-password mb-3 auth-pass-inputgroup">
        <label class="form-label" for="password">{{ 'features.auth.components.signin.PASSWORD' | translate }}</label>
        <div class="position-relative">
            <input type="password" class="form-control" id="password-input" formControlName="password" placeholder="{{ 'features.auth.components.signin.ENTER_PASSWORD' | translate }}" [ngClass]="{'is-invalid': signinForm.controls['password'].invalid && (signinForm.controls['password'].dirty || signinForm.controls['password'].touched)}">
            <!-- <button type="button" class="btn btn-link position-absolute h-100 end-0 top-0 shadow-none" appTogglePasswordVisibility>
                <i class="mdi mdi-eye-outline f-16 text-muted"></i>
            </button> -->
            <div *ngIf="signinForm.controls['password'].invalid && (signinForm.controls['password'].dirty || signinForm.controls['password'].touched)" class="invalid-feedback">
                <div *ngIf="signinForm.controls['password'].errors?.['required']">
                    {{ 'features.auth.components.signin.ERRORS.PASSWORD_REQUIRED' | translate }}
                </div>
                <div *ngIf="signinForm.controls['password'].errors?.['minlength']">
                    {{ 'features.auth.components.signin.ERRORS.PASSWORD_MINLENGTH' | translate }}
                </div>
            </div>
        </div>
    </div>
    <div class="row mb-3">
        <div class="col-sm-6">
            <div class="form-checkbox">
                <input type="checkbox" class="form-check-input me-1 shadow-none" id="customControlInline" formControlName="rememberMe">
                <label class="form-label text-muted f-15 fw-medium" for="customControlInline">{{ 'features.auth.components.signin.REMEMBER_ME' | translate }}</label>
            </div>
        </div>
        <div class="col-sm-6 text-end">
            <a routerLink="/recover-password" class="text-muted f-15 fw-medium">
                <i class="mdi mdi-lock"></i> {{ 'features.auth.components.signin.FORGOT_PASSWORD' | translate }}
            </a>
        </div>
    </div>
    <div class="text-center mt-3">
        <button class="btn btn-success shadow-none w-50 rounded-pill" type="submit">
            {{ 'features.auth.components.signin.LOG_IN' | translate }}
        </button>
    </div>
    <hr>
    <div class="mt-3 text-center">
        <p class="mb-0 text-muted">
            {{ 'features.auth.components.signin.DONT_HAVE_ACCOUNT' | translate }}
            <a routerLink="/signup" class="text-success fw-bold text-decoration-underline ms-1">
                {{ 'features.auth.components.signin.SIGN_UP' | translate }}
            </a>
        </p>
    </div>

</form>