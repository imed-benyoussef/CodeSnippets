<div class="max-w-2xl mx-auto p-6">
    <div class="space-y-6">
        <!-- En-tête -->
        <div>
            <h2 class="text-2xl font-bold text-gray-900">Authentification à deux facteurs</h2>
            <p class="mt-1 text-sm text-gray-500">Configurez une sécurité supplémentaire pour votre compte.</p>
        </div>

        <!-- Statut MFA -->
        <div class="bg-white shadow rounded-lg p-6">
            <div class="flex items-center justify-between">
                <div>
                    <h3 class="text-lg font-medium text-gray-900">État de la 2FA</h3>
                    <p class="text-sm text-gray-500">La 2FA est actuellement {{ isMfaEnabled ? 'activée' : 'désactivée' }}</p>
                </div>
                <button 
                    (click)="toggleMfa()"
                    [class]="isMfaEnabled ? 'bg-red-600 hover:bg-red-500' : 'bg-indigo-600 hover:bg-indigo-500'"
                    class="px-4 py-2 rounded-md text-white text-sm font-medium">
                    {{ isMfaEnabled ? 'Désactiver' : 'Activer' }}
                </button>
            </div>
        </div>

        <!-- Méthodes MFA -->
        <div *ngIf="isMfaEnabled" class="bg-white shadow rounded-lg p-6">
            <h3 class="text-lg font-medium text-gray-900 mb-4">Méthodes disponibles</h3>
            
            <!-- Application d'authentification -->
            <div class="border-b pb-4 mb-4">
                <div class="flex items-center justify-between">
                    <div>
                        <h4 class="text-base font-medium text-gray-900">Application d'authentification</h4>
                        <p class="text-sm text-gray-500">Utilisez une application comme Google Authenticator</p>
                    </div>
                    <button 
                        (click)="configureTotpApp()"
                        class="px-4 py-2 bg-indigo-600 text-white rounded-md text-sm font-medium hover:bg-indigo-500">
                        Configurer
                    </button>
                </div>
            </div>

            <!-- SMS -->
            <div>
                <div class="flex items-center justify-between">
                    <div>
                        <h4 class="text-base font-medium text-gray-900">SMS</h4>
                        <p class="text-sm text-gray-500">Recevez des codes par SMS</p>
                    </div>
                    <button 
                        (click)="configureSms()"
                        class="px-4 py-2 bg-indigo-600 text-white rounded-md text-sm font-medium hover:bg-indigo-500">
                        Configurer
                    </button>
                </div>
            </div>

            <!-- FIDO2 -->
            <div class="border-t pt-4 mt-4">
                <div class="flex items-center justify-between">
                    <div>
                        <h4 class="text-base font-medium text-gray-900">Clé de sécurité (FIDO2)</h4>
                        <p class="text-sm text-gray-500">Utilisez une clé de sécurité physique</p>
                    </div>
                    <button 
                        (click)="configureFido2()"
                        [disabled]="isLoading"
                        class="px-4 py-2 bg-indigo-600 text-white rounded-md text-sm font-medium hover:bg-indigo-500 disabled:opacity-50">
                        {{ isLoading ? 'Configuration...' : 'Configurer' }}
                    </button>
                </div>
            </div>
        </div>

        <!-- Messages -->
        <div *ngIf="message" [class]="messageType === 'error' ? 'bg-red-100 text-red-700' : 'bg-green-100 text-green-700'" 
             class="p-4 rounded-md mt-4">
            {{ message }}
        </div>
    </div>
</div>
